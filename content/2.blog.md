---
author: ç‹ä¸€å¸…
createTime: '3/27/2023, 12:59:00 AM'
description: 'ä½¿ç”¨ nuxt3 + nuxt content å¿«é€Ÿæ„å»ºä¸ªäººåšå®¢ä¸æŠ€æœ¯æ–‡æ¡£'
title: 'ä½¿ç”¨ Nuxt3 æ„å»ºä¸ªäººåšå®¢'
cover: http://oss.yishuai.wang/imgs/nuxt3-blog-cover.png
avatar: http://oss.yishuai.wang/imgs/avatar.jpeg
---

## ä¸ºä»€ä¹ˆé€‰æ‹© nuxt3 æ¥å®ç°åšå®¢

å‰äº›å¤©çœ‹åˆ° nuxt å›¢é˜Ÿåœ¨ twitter ä¸Šå‘å¸ƒäº† [nuxt3.3çš„æ›´æ–°åšå®¢](https://nuxt.com/blog/v3-3)ï¼Œé‡Œé¢ç‰¹åˆ«å¼ºè°ƒäº† `DX` å¼€å‘è€…ä½“éªŒï¼Œå¹¶ä¸”å¤šæ¬¡çœ‹åˆ°å°¤å¤§å¯¹ nuxt çš„æ¨èï¼Œä»¥åŠä¸€äº› nuxt æ€§èƒ½æµ‹è¯„ï¼Œå› æ­¤å†³å®šæ¥å°è¯•ä¸€ä¸‹ [nuxt 3](https://nuxt.com/) åˆ°åº•ç»™å¼€å‘è€…å¸¦æ¥äº†å“ªäº›æƒŠå–œã€‚

è€å¸æœºä»¬åå¥½äº†å˜›ï¼Ÿè¦å‘è½¦äº†ï¼ŒLet's go!

## Nuxt æ–‡æ¡£ä¸€è§ˆæ€»ç»“

ç²—ç•¥è¿‡å®Œ [nuxt3 æ–‡æ¡£](https://nuxt.com/docs/getting-started/configuration) åï¼Œä¸ä¹‹å‰ä½¿ç”¨çš„ `next.js` ç›¸æ¯”ï¼Œ`nuxt3` å…·æœ‰æ›´å¤šçº¦å®šå¼çš„å†…å®¹ï¼Œä¾‹å¦‚æ›´å¤šçš„[çº¦å®šç›®å½•](https://nuxt.com/docs/guide/directory-structure/nuxt)ï¼Œ[Auto Imports](https://nuxt.com/docs/guide/concepts/auto-imports) è‡ªåŠ¨å¯¼å…¥ï¼Œ[é¡µé¢è·¯ç”±](https://nuxt.com/docs/getting-started/routing)ã€[api è·¯ç”±](https://nuxt.com/docs/getting-started/data-fetching) ç­‰ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œnuxt è¿˜æä¾›äº†ä¸€ä¸ªä»¤äººçœ¼å‰ä¸€äº®çš„æ¦‚å¿µï¼Œé‚£å°±æ˜¯ [Layer](https://nuxt.com/docs/guide/going-further/layers)ï¼Œç®€å•æ¥è®²ï¼Œlayer å°±åƒ app çº§çš„ `mixin` ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†è‡ªå·±å¼€å‘çš„ nuxt app ï¼ˆå®Œæ•´çš„æˆ–éƒ¨åˆ†éƒ½å¯ï¼‰ ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ layer è¿›è¡Œå¤ç”¨ï¼Œä¾‹å¦‚ [docus](https://docus.dev/)ï¼Œå°è£…äº†ä¸€ä¸ª markdown æ–‡æ¡£åº”ç”¨çš„ layerï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦åœ¨ç»§æ‰¿ `docus` ä¹‹åï¼Œä¸“æ³¨äº markdown æ–‡æ¡£çš„ä¹¦å†™å³å¯ï¼Œå¦‚æœä¸èƒ½æ»¡è¶³ä½ ï¼Œä½ ä¾ç„¶å¯ä»¥åƒå†™æ™®é€š nuxt åº”ç”¨ä¸€æ ·ï¼Œåœ¨å¯¹åº”ç›®å½•ä¸­è¿½åŠ æˆ–è¦†ç›–è‡ªå·±éœ€è¦çš„åŠŸèƒ½ä¸ç»„ä»¶æ¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚

é™¤äº† `Layer`, nuxt3 è¿˜æœ‰ `Module` çš„æ¦‚å¿µï¼ŒNuxt æä¾›äº†ä¸€äº›å®˜æ–¹ä»¥åŠç¤¾åŒºçš„ä¼˜è´¨ [Module](https://nuxt.com/modules), è¿™äº› `Module` ä¸ä»…åŒ…å«äº†å¾ˆå¤šæœ‰ç”¨çš„åº“ï¼Œè€Œä¸”ä¹ŸåŒ…å«äº†ä¸€äº›æŠ€æœ¯æ–¹æ¡ˆçš„å°è£…ï¼Œä¾‹å¦‚ [Nuxt Content](https://nuxt.com/modules/content)ï¼Œæä¾›äº†ä¸€å¥—åŸºäº markdown æ–‡ä»¶çš„ File CSM è§£å†³æ–¹æ¡ˆï¼Œå®ƒä¹Ÿæ˜¯æœ¬æ¬¡åˆ†äº«çš„ä¸»è§’ä¹‹ä¸€ã€‚ä¸ `Layer` ä¸åŒï¼Œ`Module` çš„æ¦‚å¿µæ›´åƒæ˜¯ nuxt æ‰©å±•æ’ä»¶ï¼Œå¼€å‘è€…å¯ä»¥åœ¨è‡ªå®šä¹‰ module ä¸­ä¿®æ”¹ nuxt çš„é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ nuxt æä¾›çš„é’©å­å‡½æ•°ï¼Œå¯ä»¥æ·±åº¦å®šåˆ¶ nuxt çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å®ç°Vue æ’ä»¶ã€CMSã€æœåŠ¡å™¨è·¯ç”±ã€ç»„ä»¶ã€æ—¥å¿—è®°å½•ç­‰ã€‚

æ€»çš„æ¥çœ‹ï¼ŒNuxt å¸¦ç»™æˆ‘ä»¬çš„å†…å®¹ä¸»è¦æœ‰:

1. æ›´å¤šçš„æ–¹ä¾¿çš„å¼€å‘çº¦å®š
2. è‡ªåŠ¨å¯¼å…¥ä¸ç±»å‹æç¤º
3. Layer ç»§æ‰¿å¤ç”¨
4. ä¸°å¯Œçš„ Module æ¨¡å—

ä½†ä¹Ÿä¸èƒ½è¯´å®ƒä¸€ç‚¹ç¼ºç‚¹æ²¡æœ‰ï¼š
1. è¿‡å¤šçš„çº¦å®šéœ€è¦æˆ‘ä»¬æ›´å¤šçš„å­¦ä¹ æˆæœ¬ï¼Œä½†å®ƒä¸æ˜¯æ™®é€‚çš„ï¼Œå­¦ä¹ ä¹‹åå°±åªæ˜¯ç”¨äºnuxtçš„å¼€å‘
2. è‡ªåŠ¨å¯¼å…¥ã€Layer å¤ç”¨ä»¥åŠæ·±åº¦å®šåˆ¶çš„ Module å›ºç„¶å¥½ç”¨ï¼Œä½†ä½“éªŒä¸­çœ‹åˆ«äººçš„ä»£ç æœ‰æ—¶ç¬¬ä¸€çœ¼ä¼šå¾ˆæ‡µé€¼ï¼Œä¸çŸ¥é“å¯¼å…¥æ¥æº

ä¸è¿‡è¿™äº›é—®é¢˜å¹¶ä¸å¤§ï¼Œä»»ä½•æŠ€æœ¯éƒ½æ˜¯æœ‰ä¸€å®šå­¦ä¹ é—¨æ§›çš„ï¼Œç†Ÿæ‚‰ä¹‹åï¼Œç”¨èµ·æ¥æ˜¯çœŸé¦™ã€‚

å¤šæ•°æ— ç”¨ï¼ŒShow Me Coding! æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±é€šè¿‡å®æˆ˜ä»é›¶ä½“éªŒ nuxt çš„å¼€å‘è¿‡ç¨‹å§ã€‚

## åˆå§‹åŒ–ä¸€ä¸ª nuxt åº”ç”¨

> ä½ ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ `npx degit yishuai-wang/base-nuxt3 nuxt3-blog` åˆ›å»ºä¸€ä¸ªæœ¬èŠ‚æ‰‹æŠŠæ‰‹å¸¦ç€ç”Ÿæˆçš„ nuxt3 åŸºç¡€é¡¹ç›®æ¨¡æ¿åï¼Œç»“åˆä»£ç å¯¹æœ¬èŠ‚å†…å®¹ä»…åšæµè§ˆå³å¯ï¼Œåç»­å®æ“å†è¿›è¡Œ coding.

### åˆ›å»º nuxt åº”ç”¨

::code-group

```bash [pnpm]
pnpm dlx nuxi init static-blog
```

```bash [npx]
npx nuxi init static-blog
```
::

> ä¸ªäººæ›´å–œæ¬¢ pnpm ä¸€äº›ï¼Œæ‰€ä»¥æ”¾åœ¨å‰é¢äº†ï¼Œè¯¥è¯´ä¸è¯´ï¼Œç”±äºå®‰è£…åŒ…å°½å¯èƒ½å¤ç”¨ç¼“å­˜ï¼Œå¾ˆå¤šæ—¶å€™å®ƒå®‰è£…è½¯ä»¶ç¡®å®å¿«

æœ‰äººå¯èƒ½å¥½å¥‡ `nuxi` æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™é‡Œè¡¥å……ä¸€ä¸‹ nuxt çš„é¡¹ç›®æ¶æ„ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£æè¿°ï¼Œnuxt æ˜¯ä¸€ç³»åˆ—æ ¸å¿ƒåŒ…çš„ç»„åˆï¼Œè¿™äº›æ ¸å¿ƒåŒ…åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
- [nuxt](https://github.com/nuxt/nuxt/tree/main/packages/nuxt): æ ¸å¿ƒå¼•æ“
- [@nuxt/vite-builder](https://github.com/nuxt/nuxt/tree/main/packages/vite) ä¸ [@nuxt/webpack-builder](https://github.com/nuxt/nuxt/tree/main/packages/webpack): nuxt æ‰“åŒ…å·¥å…·ï¼Œæˆ‘ä»¬é»˜è®¤ä½¿ç”¨vite
- [nuxi](https://github.com/nuxt/nuxt/tree/main/packages/nuxi): å‘½ä»¤è¡Œå·¥å…·ï¼Œåˆ›å»ºã€å¯åŠ¨ã€æ‰“åŒ…é¡¹ç›®ç­‰æ“ä½œéƒ½æ˜¯é€šè¿‡ `nuxi` å‘½ä»¤æ‰§è¡Œçš„
- [nitro](https://github.com/unjs/nitro): æœåŠ¡ç«¯ node å±‚ï¼Œé¡ºå¸¦æä¸€å¥ï¼Œnitro æ˜¯ [unjs](https://unjs.io/) æä¾›çš„ä¸€æ¬¾ç”¨äºæ„å»ºé€šç”¨node webæœåŠ¡çš„æ¡†æ¶ï¼Œå®ƒçš„ç‰¹ç‚¹è¿™é‡Œå°±ä¸å±•å¼€è¯´äº†ï¼Œè¿™é‡Œè¦é‡ç‚¹æåˆ°çš„æ˜¯ `unjs` æä¾›äº†å¤šæ¬¾ä¼˜è´¨çš„å‰ç«¯å·¥å…·ï¼Œå¤§å®¶å¯ä»¥å¤šå¤šå…³æ³¨ä¸€ä¸‹ï¼Œéƒ½æ˜¯å¤§ä½¬ä»¬å·å‡ºæ¥çš„å¥½å·¥å…·ï¼Œæ—©çœ‹æ—©å—ç›Šã€‚
- `@nuxt/kit` ä¸ `@nuxt/bridge`ï¼šä¸€ä¸ªæ˜¯ nuxt å†…éƒ¨æ ¸å¿ƒå¼€å‘å·¥å…·åŒ…ï¼Œä¸€ä¸ªæ˜¯æå‡ nuxt2 å¼€å‘ä½“éªŒåˆ° nuxt3 çš„ bridge å·¥å…·ã€‚

### å®‰è£…ä¾èµ–å¹¶å¯åŠ¨

è¿™é‡Œå®‰è£…ä¾èµ–ä»ç„¶å•ç‹¬æ‹¿å‡ºæ¥ä¸»è¦æ˜¯åƒå¤§å®¶æ¨èä¸€ä¸ªåº“ `@antfu/ni`ï¼Œä¸€ä¸ªå¥½ç”¨åˆ°åœä¸ä¸‹æ¥çš„å°å·¥å…·ï¼Œç”±äºç°åœ¨å„ç§é¡¹ç›®æˆ‘ä»¬å¯èƒ½ç”¨åˆ° `npm`,`yarn`,`pnpm` ç­‰ä¸åŒå·¥å…·ï¼Œä»–ä»¬å®‰è£…ä¾èµ–ä»¥åŠå¯åŠ¨æ—¶å‘½ä»¤éƒ½ä¸ä¸€è‡´ï¼Œéœ€è¦è·Ÿéšé¡¹ç›®çš„ä½¿ç”¨å·¥å…·è°ƒæ•´ï¼Œæœ‰æ—¶å€™ä¼šè®©äººå¾ˆå¤´ç–¼ï¼Œåœ¨è¿™ä¸ªèƒŒæ™¯ä¸‹ï¼Œantfu å¤§ä½¬å¼€å‘è¿™ä¸ªå·¥å…·ï¼Œå®ƒä¼šè‡ªåŠ¨ä¾¦æµ‹ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ï¼ˆåŸç†æ˜¯æ ¹æ® package.lock æ–‡ä»¶åˆ¤æ–­ï¼‰ï¼Œç”¨ç»Ÿä¸€çš„å‘½ä»¤è¿›è¡Œä¾èµ–å®‰è£…ä¸ `package scripts` çš„è¿è¡Œï¼Œ

å…¨å±€å®‰è£… `@antfu/ni`

```bash
npm install -g @antfu/ni
```

è¿›å…¥é¡¹ç›®å¹¶å®‰è£…ä¾èµ–
::code-group
```bash [ni]
cd static-blog && ni
```
```bash [pnpm]
cd static-blog && pnpm install
```
```bash [npm]
cd static-blog && npm install
```
```bash [yarn]
cd static-blog && yarn
```
::

å¯åŠ¨é¡¹ç›®
::code-group
```bash [ni]
nr dev
```
```bash [pnpm]
pnpm dev
```
```bash [npm]
npm run dev
```
```bash [yarn]
yarn dev
```
::

### é¡¹ç›®è§„èŒƒåŒ–

é¡¹ç›®åˆ›å»ºåï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ `eslint` `stylelint` ç­‰å·¥å…·å¯¹ä»£ç è¿›è¡Œè§„èŒƒåŒ–ï¼Œé€šè¿‡ `commitlint` ç»“åˆ `husky` å¯¹ git æäº¤ä¿¡æ¯è¿›è¡Œä¸€å®šçš„è§„èŒƒçº¦æŸï¼Œè½åœ°åˆ°ç”¨å·¥å…·ï¼Œå¼ºåˆ¶è§„èŒƒæˆ‘ä»¬çš„ä»£ç ä¸å¼€å‘æµç¨‹ã€‚

#### eslint é…ç½®

> å…³äº eslint ä¸ prettier çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¿™é‡Œä¸ä¼šä½¿ç”¨ prettierï¼ŒåŸå› æ˜¯ eslint ä¹Ÿå¯ä»¥åšåˆ°ä»£ç çš„è‡ªåŠ¨ä¿®å¤ï¼Œæˆ‘ä»¬æ²¡å¿…è¦åœ¨ eslint ä¸­å¼ºè¡Œä½¿ç”¨ prettier æ’ä»¶ä»¥åŠå®ƒæä¾›çš„é»˜è®¤é…ç½®ï¼Œåœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œä¹‹å‰ä¹Ÿçœ‹åˆ° antfu å¤§ä½¬çš„è§‚ç‚¹ï¼Œä¹Ÿæ˜¯å¤§è‡´ä¸€æ ·çš„çš„ï¼ŒåŒæ—¶ nuxt æ–‡æ¡£ä¸­ä¹Ÿæœ‰ç›¸ä¼¼çš„è§‚ç‚¹ã€‚

å®‰è£… `eslint`

::code-group
```bash [ni]
ni eslint @nuxtjs/stylelint-module @antfu/eslint-config -D
```
```bash [pnpm]
pnpm add eslint @nuxtjs/stylelint-module @antfu/eslint-config -D
```
```bash [npm]
npm install eslint @nuxtjs/stylelint-module @antfu/eslint-config -D
```
```bash [yarn]
yarn add eslint @nuxtjs/stylelint-module @antfu/eslint-config -D
```
::

é¡¹ç›®ä¸­é…ç½® eslintï¼Œå¹¶åœ¨ package.json ä¸­æ·»åŠ  lint è„šæœ¬

::code-group
```json [.eslintrc]
{
  "extends": "@antfu"
}
```
```json [package.json]
{
  "scripts": {
    "lint": "eslint ."
  }
}
```
```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    '@nuxtjs/eslint-module',
  ],
})
```
::

åœ¨ eslint é…ç½®ä¸Šï¼Œå¦‚æœä½ æ²¡æœ‰å°è£…è¿‡è‡ªå·±å¸¸ç”¨çš„è§„åˆ™ï¼Œå»ºè®®ä½¿ç”¨ `@antfu/eslint-config`ï¼Œè¿™ä¹Ÿæ˜¯ antfu å¤§ä½¬æå–çš„ä¸€å¥—å¸¸ç”¨çš„è§„åˆ™ï¼Œè™½ç„¶å…¶ä¸­æŸäº›è§„åˆ™è·Ÿè‡ªå·±çš„ä¹ æƒ¯ä¸å¤ªç¬¦åˆï¼Œä½†å¤§å¤šæ•°è¿˜æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬æ¯ä¸ªäººéƒ½å¯ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ€»ç»“å‡ºä¸€å¥—è‡ªå·±çš„ eslint è§„åˆ™ï¼Œåç»­ä½¿ç”¨æ—¶ä¹Ÿé¿å…é‡å¤é…ç½®ï¼Œæ€»æ˜¯åœ¨åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™æåŠå¤©ï¼Œå¸¸ç”¨çš„ä»£ç æ¨¡æ¿ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¹Ÿæ˜¯åç»­è‡ªå·±ä¹Ÿä¼šå»åšçš„ä¸€ä»¶äº‹ã€‚

#### stylelint çš„é…ç½®

é™¤äº†å¯¹ js ä»£ç è¿›è¡Œè§„èŒƒåŒ–ï¼Œstyle ä¹Ÿéœ€è¦è§„èŒƒåŒ–ï¼Œä¾‹å¦‚ css å±æ€§çš„ä¹¦å†™é¡ºåºç­‰ï¼Œå…¶å®ä¸ªäººä½¿ç”¨ stylelint æ—¶ä¸»è¦ä¹Ÿæ˜¯å–œæ¬¢å…¶ css å±æ€§è‡ªåŠ¨æ’åºçš„åŠŸèƒ½ã€‚

> stylelint ä¸­ä¾ç„¶ä¸æ¨èä½¿ç”¨ prettierï¼Œé™¤éä½ çœŸçš„å¾ˆå–œæ¬¢ prettierï¼Œstylelint çš„å®˜ç½‘ä¹Ÿæ˜¯ç±»ä¼¼çš„æ€åº¦

**å®‰è£… stylelint ä¸ç›¸å…³ä¾èµ–**

::code-group
```bash [ni]
ni stylelint @nuxtjs/stylelint-module stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-vue postcss-html -D
```
```bash [pnpm]
pnpm add stylelint @nuxtjs/stylelint-module stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-vue postcss-html -D
```
```bash [npm]
npm install stylelint @nuxtjs/stylelint-module stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-vue postcss-html -D
```
```bash [yarn]
yarn add stylelint @nuxtjs/stylelint-module stylelint-config-standard stylelint-config-recess-order stylelint-config-recommended-vue postcss-html -D
```
::

**é¡¹ç›®ä¸­é…ç½® stylelint**

::code-group
```json [.stylelintrc]
{
  "extends": [
    "stylelint-config-standard",
    "stylelint-config-recess-order",
    "stylelint-config-recommended-vue"
  ]
}
```
```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    ...
    '@nuxtjs/stylelint-module',
    ...
  ],
})

```
::

vscode stylelint æ’ä»¶é…ç½®ä¸­ä¹Ÿéœ€è¦æ·»åŠ  vue åˆ° validate ä¸­ï¼Œå¦åˆ™ä¸ä¼šå¯¹ vue sfc è¿›è¡Œæ£€æŸ¥ä¸ä»£ç è‡ªåŠ¨ä¿®å¤

![stylelint plugin](http://oss.yishuai.wang/imgs/stylelint.png)


è¿™äº› stylelint çš„å®‰è£…åŒ…å…¶å®å¹¶ä¸å¤æ‚ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹çœ‹ä»–ä»¬çš„ä½œç”¨
- `stylelint` ä¸ `@nuxtjs/stylelint-module` å°±ä¸å¿…å¤šè¯´äº†ã€‚
- `stylelint-config-standard` ç»§æ‰¿äº† stylelint çš„æ¨èé…ç½®ï¼Œå¹¶ä¸”å¢åŠ äº†ä¸€äº›å¸¸ç”¨çš„æ ‡å‡†è§„åˆ™ã€‚
- `stylelint-config-recess-order` ä¸»è¦æ˜¯å¯¹ css å±æ€§åè¿›è¡Œæ’åºï¼Œå…¶ä¸»è¦å‚è€ƒäº† [css-property-order](https://markdotto.com/2011/11/29/css-property-order/)ï¼ŒçŠ¹è®°å½“åˆå®ä¹ çš„æ—¶å€™ï¼Œæ—è¾¹çš„å¤–å›½å°å“¥ä¹Ÿå¯¹æˆ‘å†™ css çš„å±æ€§é¡ºåºæœ‰è¦æ±‚ï¼Œä¸è¿‡å½“æ—¶æ²¡æœ‰ç”¨stylelint çš„ autofixï¼Œéƒ½æ˜¯æ­»è®°çš„ css å±æ€§åº”è¯¥å¦‚ä½•æ’åˆ—ã€‚
- `stylelint-config-recommended-vue` ä¹Ÿç»§æ‰¿äº† lstyelint çš„æ¨èé…ç½®ï¼Œå¹¶ç»§æ‰¿äº† `stylelint-config-html`ï¼Œå…¶ä¸­é€šè¿‡æ·»åŠ  `postcss-html` è‡ªå®šä¹‰è¯­æ³•ï¼Œå®ç°åœ¨ vue sfc ä¸­å¯¹ style æ ‡ç­¾ä¹Ÿå¯ä»¥è¿›è¡Œ lint ä¸è‡ªåŠ¨ä¿®å¤ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæä¾›äº†ä¸€äº› vue çš„æ¨èé…ç½®ã€‚

#### commitlint ä¸ husky é…ç½®

é™¤äº†ä½¿ç”¨ eslint ä¸ stylelint å¯¹ä»£ç è¿›è¡Œè§„èŒƒåŒ–çº¦æŸï¼Œæ ‡å‡†åŒ– git æäº¤ä¿¡æ¯ä¹Ÿæ˜¯å¼€å‘ä¸€ä¸ªé¡¹ç›®æ—¶éœ€è¦æ³¨æ„çš„ï¼Œå¦‚æœä½ ä¸èƒ½å¾ˆå¥½åœ°é€šè¿‡ä¸ªäººæäº¤é£æ ¼æ¥æ§åˆ¶ git æäº¤ä¿¡æ¯ï¼Œå»ºè®®é€šè¿‡ [commitlint](https://conventional-changelog.github.io/commitlint/) ç»“åˆ [husky](https://typicode.github.io/husky/#/)ï¼Œé€šè¿‡å·¥å…·è¿›è¡Œå¼ºåˆ¶çº¦å®šï¼Œä¿è¯æäº¤ä¿¡æ¯çš„è§„èŒƒã€‚

è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ husky æ—¶ï¼Œè¦ä¿è¯æˆ‘ä»¬çš„ä»£ç å·²ç»é€šè¿‡ git åˆå§‹åŒ–è¿‡ï¼Œä»¥ä¸ºå®ƒæ˜¯ä¾èµ– git çš„é’©å­çš„ã€‚

```bash
git init
```

::code-group
```bash [ni]
ni @commitlint/cli @commitlint/config-conventional husky lint-staged -D
```

```bash [pnpm]
pnpm add @commitlint/cli @commitlint/config-conventional husky lint-staged -D
```

```bash [yarn]
yarn add @commitlint/cli @commitlint/config-conventional husky lint-staged -D
```

```bash [npm]
npm install @commitlint/cli @commitlint/config-conventional husky lint-staged -D
```
::

**æ·»åŠ  githooks**

```bash
npx husky install # enable git hook
npm pkg set scripts.prepare="husky install" # å‘ npm scripts ä¸­æ·»åŠ  prepareï¼šhusky isntall
npx husky add .husky/commit-msg  'npx --no -- commitlint --edit ${1}' # å‘ commit-msg é’©å­æ·»åŠ  commitlint
npx husky add .husky/pre-commit "npx eslint --fix" # å‘ pre-commit æ·»åŠ  eslint å‘½ä»¤,å½“ç„¶å¦‚æœæ„¿æ„ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨ lint-staged
```

**commitlint ä¸ husky é…ç½®**
::code-group
```json [.commitlintrc]
{
  "extends": ["@commitlint/config-conventional"]
}
```

```bash [.husky/commit-msg]
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npx --no -- commitlint --edit ${1}

```
```bash [.husky/commit-msg]
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

npx eslint --fix

```
::

### å°†é¡¹ç›®ä½œä¸ºåŸºç¡€æ¨¡æ¿

å¯¹äºä¸Šé¢çš„åˆå§‹åŒ–å†…å®¹ï¼Œåœ¨æˆ‘ä»¬åˆ›å»ºä»»ä½•ä¸€ä¸ª nuxt é¡¹ç›®å¯èƒ½éƒ½æ˜¯å¿…é¡»çš„æ­¥éª¤ï¼Œå› æ­¤ï¼Œå°†å…¶ä½œä¸ºæˆ‘ä»¬æ—¥åä¸€ä¸ªå¼€å‘æ¨¡æ¿æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œå®ƒå¯ä»¥å…é™¤æˆ‘ä»¬æ—¥åé‡å¤åœ°è¿›è¡Œé¡¹ç›®é…ç½®ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚

è¿™é‡Œä¹Ÿæ¨èä¸€ä¸‹ antfu å¤§ä½¬è‡ªå·±æ€»ç»“çš„ä¸€äº›å¼€æºçš„ç¼–ç¨‹æ¨¡æ¿ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯ [vitesse](https://github.com/antfu?tab=repositories&q=vitesse&type=&language=&sort=) ç³»åˆ—ï¼Œåœ¨å¼€æºç¤¾åŒºä¹Ÿæœ‰æ¯”è¾ƒé«˜çš„ç‚¹èµï¼Œå­¦ä¹ å˜›ï¼Œä¸å…‰æ˜¯æŠ€æœ¯ï¼Œå¤§ä½¬ä»¬çš„æ–¹æ³•ä¹Ÿæ˜¯è¦å­¦çš„ã€‚

å½“ç„¶ï¼Œä½œä¸ºä¸€ä¸ªåŸºç¡€åº“ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®‰è£…ä¸€äº›è‡ªå·±æ¯ä¸ªé¡¹ç›®ä¸­å¿…å¤‡çš„è½¯ä»¶ï¼Œä»¥åŠåŸºç¡€çš„æ¨¡æ¿ä»£ç ï¼Œè¿™é‡Œæˆ‘å†å®‰è£…å‡ ä¸ªå¥½ç”¨çš„å·¥å…·ï¼Œä¹Ÿæ˜¯ä½œä¸ºä¸€ä¸ªæ¨èã€‚

> æ’åä¸åˆ†å…ˆåï¼Œè„‘å­é‡Œå…ˆå‡ºç°è°è°å°±åœ¨å‰é¢ï¼ŒåŸºæœ¬ä¹Ÿæ˜¯åç»­æˆ‘ä»¬éƒ½ä¼šç”¨åˆ°çš„å†…å®¹

**No.1**

[Color Mode](https://color-mode.nuxtjs.org/): nuxt è¿›è¡Œä¸»é¢˜åˆ‡æ¢çš„ä¸€ä¸ªåº“ï¼Œæ–‡æ¡£ç¬¬ä¸€å¥è¯å°±æ˜¯å¯¹è‡ªå·±ç‰¹åˆ«å¥½çš„ä»‹ç»ï¼š"Dark and Light mode with auto detection made easy with Nuxt ğŸŒ—"ï¼Œå¯ä»¥ä½¿å¾—æ˜æš—æ¨¡å¼åœ¨nuxtä¸­çš„è‡ªåŠ¨ä¾¦æµ‹éå¸¸ç®€å•ã€‚æºç ä¹Ÿä¸å¤šï¼Œå¦‚æœæ„Ÿå…´è¶£ï¼Œåç»­å¯ä»¥å‡ºä¸€äº›æºç é˜…è¯»çš„å†…å®¹ï¼Œæ¥æ·±å…¥å­¦ä¹ ä¸€ä¸‹è¿™äº›è¶…å¥½ç”¨çš„å·¥å…·éƒ½æ˜¯å¦‚ä½•å®ç°çš„ã€‚

å®‰è£…ï¼š
::code-group
```bash [ni]
ni @nuxtjs/color-mode -D
```

```bash [pnpm]
pnpm add @nuxtjs/color-mode -D
```

```bash [yarn]
yarn add @nuxtjs/color-mode -D
```

```bash [npm]
npm install @nuxtjs/color-mode -D
```
::

é…ç½®ï¼š

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    ...
    '@nuxtjs/color-mode'
    ...
  ]
})
```

**No.2**

[pinceau](https://pinceau.dev/): å¼ºçƒˆæ¨èï¼Œå¦‚æœæˆ‘ä»¬æ¥è§¦ç»„ä»¶åº“æ¯”è¾ƒå¤šï¼Œæˆ–è€…è·Ÿè®¾è®¡å¸ˆæœ‹å‹ã€UIå°å§å§æ‰“äº¤é“æ¯”è¾ƒå¤šçš„è¯ï¼Œå¯èƒ½ä¼šå¬è¯´è¿‡ Design Tokensï¼Œç®€å•æ¥è®²ï¼Œæˆ‘ä»¬çš„é…è‰²æ–¹æ¡ˆï¼Œç»„ä»¶çš„å¤§å°ï¼Œå½¢çŠ¶ç­‰ä¿¡æ¯ï¼Œåœ¨è®¾è®¡å¸ˆè¿›è¡Œ UI ç»„ä»¶åº“è®¾è®¡çš„æ—¶å€™ï¼Œéƒ½æ˜¯æœ‰ä¸€å¥—æ ‡å‡†çš„ï¼Œåœ¨ UI ä¸»é¢˜å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œåªéœ€è¦æ”¹å˜è¿™äº› Tokens çš„å€¼å°±å¯ä»¥äº†ï¼Œä½ å¯ä»¥å°†å…¶ç†è§£ä¸ºç¨‹åºå¼€å‘æ—¶çš„å˜é‡é…ç½®æ–‡ä»¶ä¸€æ ·çš„ä¸œè¥¿ï¼Œæ€»ä¹‹å°±æ˜¯å°†è‡ªå·±çš„ä¸€å¥—è®¾è®¡æ ‡å‡†è§„èŒƒåŒ–ä¸ºä¸€å¥— Tokenã€‚æˆ‘ä»¬åœ¨åé¢ä¹Ÿä¼šä¸“é—¨å‡ºä¸ªæ–‡ç« æ¥è®²ï¼Œå¦‚æœæ¯”è¾ƒç€æ€¥äº†è§£ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  [Design Tokens and how a W3C specification will help going forward](https://backlight.dev/blog/design-tokens)ã€‚

pinceau åšçš„äº‹æ˜¯å°±æ˜¯é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­å®šä¹‰æˆ‘ä»¬è‡ªå·±çš„ tokenï¼Œä¹‹åå°±å¯ä»¥åœ¨æˆ‘ä»¬ app å…¨å±€ä½¿ç”¨ç›¸åº”çš„å˜é‡äº†ï¼Œè¿™äº›å˜é‡éƒ½ä¼šåœ¨ç¼–è¯‘é˜¶æ®µè¢«ç¼–è¯‘ä¸º css å˜é‡ï¼Œå®ƒæ”¯æŒ [Design Tokens](https://pinceau.dev/configuration/design-tokens), [å“åº”å¼ Tokens](https://pinceau.dev/configuration/responsive-tokens), [åª’ä½“æŸ¥è¯¢ Tokens](https://pinceau.dev/configuration/media-queries), [å·¥å…·å±æ€§](https://pinceau.dev/configuration/utils-properties)ï¼Œåœ¨å®ç°ä¸åŒä¸»é¢˜ï¼Œå“åº”å¼é¡µé¢çš„æ—¶å€™ï¼Œä¼šç»™æˆ‘ä»¬å¸¦æ¥éå¸¸å¤§çš„ä¾¿åˆ©ï¼Œåç»­ä¹Ÿä¼šç”¨åˆ°ã€‚

å®‰è£…
::code-group
```bash [ni]
ni pinceau -D
```

```bash [pnpm]
pnpm add pinceau -D
```

```bash [yarn]
yarn add pinceau -D
```

```bash [npm]
npm install pinceau -D
```
::

é…ç½®
::code-group
```ts [nuxt.config.ts]
defineNuxtConfig({
  modules: [
    ...
    'pinceau/nuxt'
    ..
  ],
  // æœ‰éœ€è¦å¯ä»¥é…ç½®ï¼Œæš‚æ—¶å¯ä»¥ä¸è¦
  // pinceau: {
  //   ...options
  // }
})
```

```ts [tokens.config.ts]
import { defineTheme } from 'pinceau'
export default defineTheme({
  // å…·ä½“ token å†…å®¹åç»­ä½¿ç”¨æ—¶é…ç½®
})
```
::

pinceau vscode æ’ä»¶ï¼šå®ƒå¯ä»¥å¸®æˆ‘è¯†åˆ«æ–‡ä»¶ä¸­ä½¿ç”¨ token çš„è¯­æ³•ä»¥åŠå˜é‡å€¼ï¼Œå¹¶å¿«é€Ÿè·³è½¬åˆ°é…ç½®æ–‡ä»¶ä¸­
![pinceau vscode plugin](http://oss.yishuai.wang/imgs/pinceau-vscode-plugin.png)

**No.3**

[@unocss/nuxt](https://nuxt.com/modules/unocss): ä¹Ÿæ˜¯ antfu å¤§ä½¬å¼€å‘çš„ä¸€æ¬¾ åŸå­åŒ– CSS å¼•æ“ï¼Œå®˜æ–¹æ–‡æ¡£ç§°ä¹‹ä¸º `The instant on-demand atomic CSS engine.(å³æ—¶æŒ‰éœ€çš„åŸå­ CSS å¼•æ“)`ï¼Œç”¨æ³•ä¸ tailwindã€windi css åŸºæœ¬ä¸€è‡´ï¼Œä½†å®ƒæ˜¯åŸºäºå­—ç¬¦ä¸²æ‹¼æ¥å®ç°çš„ï¼Œå¹¶ä¸”åœ¨ vite æ„å»ºæ—¶é€šè¿‡ transform ç›´æ¥è¿›è¡Œå·¥ä½œï¼Œæ²¡æœ‰é¢å¤–è¿›è¡Œæ–‡ä»¶æ‰«æï¼Œè§£æä¸ºastçš„æ“ä½œï¼Œå› æ­¤æ•ˆç‡æé«˜ï¼Œå®˜æ–¹æµ‹è¯•é€Ÿåº¦æ¯” tailwind ä¸ windi css å¿«5å€ã€‚

æ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ antfu çš„åšå®¢ [é‡æ–°æ„æƒ³åŸå­åŒ– CSS](https://antfu.me/posts/reimagine-atomic-css-zh)ï¼Œæœ‰èƒ½åŠ›çš„å°ä¼™ä¼´æ¨èçœ‹è‹±æ–‡åŸæ–‡[Reimagine Atomic CSS](https://antfu.me/posts/reimagine-atomic-css)ã€‚åœ¨è¿›è¡Œæœ¬åšå®¢å¼€å‘æ—¶ï¼Œå…¶å®çœ‹çš„å…¨éƒ½æ˜¯è‹±æ–‡æ–‡æ¡£ï¼Œè™½ç„¶è‡ªå·±è‹±æ–‡ä¹Ÿä¸å’‹åœ°ï¼Œä½†ç›®å‰æ¥è¯´ï¼Œé”»ç‚¼ä¸€ä¸‹è‹±æ–‡èƒ½åŠ›ï¼Œç¡®å®å¯¹è‡ªå·±å»äº†è§£ä¸€äº›æœ€æ–°çš„æŠ€æœ¯å¾ˆæœ‰å¸®åŠ©ï¼Œå¹¶ä¸” antfu å¤§ä½¬çš„åšå®¢åŸæ–‡å…¨éƒ¨æ˜¯ è‹±æ–‡æ–‡æ¡£ã€‚

å®‰è£…
::code-group
```bash [ni]
ni @unocss/nuxt -D
```

```bash [pnpm]
pnpm add @unocss/nuxt -D
```

```bash [yarn]
yarn add @unocss/nuxt -D
```

```bash [npm]
npm install @unocss/nuxt -D
```
::

é…ç½®

```ts
export default defineNuxtConfig({
  modules: [
    ...
    'pinceau/nuxt',
    '@unocss/nuxt',
    ...
  ],
  // pinceau è¿™é‡Œå¯ä»¥åŠ ä¸€ä¸ªé…ç½®ï¼Œå¯ä»¥ç”¨æ¥åŠ è½½ css preset, è¿™ä¸ªåŠŸèƒ½ä¹Ÿæ˜¯ä¾èµ– @unocss/reset çš„
  pinceau: {
    preflight: 'antfu',
  },
})

```

**No.4**

[nuxt-icon](https://nuxt.com/modules/icon): åŸºäº [Iconify](https://iconify.design/) æä¾›äº† 10w+ çš„ icon ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œä¸è¦åœ¨æ­»ç›¯ç€ä¸€ä¸ª iconfont æ¥äº†ï¼Œè¿™ä¸ªæ›´å¥½ç”¨ï¼ŒåŸºæœ¬åŒ…å«äº†å¸‚é¢ä¸Šç»å¤§å¤šæ•°çš„ iconï¼Œä¾‹å¦‚ element-plusã€ant-design çš„éƒ½ä¼šæœ‰ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œå†æ¨èä¸€ä¸ª iconify å›¾æ ‡æŸ¥è¯¢å·¥å…· [icones](https://icones.js.org/)ï¼Œä¹Ÿæ˜¯ antfu å¤§ä½¬æä¾›çš„ä¸€ä¸ªæ›´æ–¹ä¾¿çš„å›¾æ ‡æŸ¥è¯¢ç½‘ç«™ï¼Œä¸ªäººä¹Ÿå®åœ¨ç”¨ä¸æƒ¯å®˜æ–¹ç½‘ç«™çš„æŸ¥è¯¢ï¼Œè¿™ä¸ªå·¥å…·ç¡®å®å¸¦æ¥äº†å·¨å¤§çš„ä¾¿æ·æ€§ã€‚

å®‰è£…
::code-group
```bash [ni]
ni nuxt-icon -D
```

```bash [pnpm]
pnpm add nuxt-icon -D
```

```bash [yarn]
yarn add nuxt-icon -D
```

```bash [npm]
npm install nuxt-icon -D
```
::

é…ç½®

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    ...
    'nuxt-icon'
    ...
  ]
})
```

**No.5**

[nuxt-img](https://v1.image.nuxtjs.org/): nuxt å®˜æ–¹æ¨å‡ºçš„æ›¿æ¢ imgï¼Œpicture å…ƒç´ çš„å¼€ç®±å³ç”¨çš„ç»„ä»¶ï¼Œå¹¶ä¸”æ”¯æŒé…ç½®å¤šå®¶äº‘å‚å•† (provider)ï¼Œç»Ÿä¸€è®¾ç½®å›¾ç‰‡èµ„æºåŸºç¡€è·¯å¾„ç­‰ã€‚

å®‰è£…
::code-group
```bash [ni]
ni @nuxt/image-edge -D
```

```bash [pnpm]
pnpm add @nuxt/image-edge -D
```

```bash [yarn]
yarn add @nuxt/image-edge -D
```

```bash [npm]
npm install @nuxt/image-edge -D
```
::

é…ç½®
```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    ...
    '@nuxt/image-edge',
    ...
  ]
})
```

**No.6**

[@nuxt/devtools](https://nuxt.com/modules/devtools): nuxt å¼€å‘å·¥å…·ï¼Œä½œä¸º nuxt åº”ç”¨çš„å¼€å‘è€…ï¼Œå®˜æ–¹æä¾›çš„å¼€å‘å·¥å…·é‚£å¿…é¡»æ”¯æŒä¸€ä¸‹

å®‰è£…
::code-group
```bash [ni]
ni @nuxt/devtools -D
```

```bash [pnpm]
pnpm add @nuxt/devtools -D
```

```bash [yarn]
yarn add @nuxt/devtools -D
```

```bash [npm]
npm install @nuxt/devtools -D
```
::

é…ç½®
```ts
export default defineNuxtConfig({
  modules: [
    ...
    '@nuxt/devtools',
    ...
  ],
})
```

okï¼Œè‡³æ­¤ï¼Œæˆ‘ä»¬çš„åŸºç¡€å·¥å…·ä¹Ÿç®—å®‰è£…é½å…¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥å°†è‡ªå·±çš„ä»£ç  package.json ä¸­é‡ä¸ªåï¼Œä½œä¸ºä¸€ä¸ªåŸºç¡€çš„é¡¹ç›®æ¨¡æ¿ä¸Šä¼ åˆ°ä¸ªäººä»“åº“ä¸­ï¼Œåç»­ä¹Ÿå¯ä»¥åŸºäºæ­¤è¿›è¡Œä¸æ–­ç»´æŠ¤è¿­ä»£ï¼Œæ·»åŠ è‡ªå·±å¸¸ç”¨çš„ä¸€äº›é…ç½®ä¸åŸºç¡€ä»£ç æ¨¡æ¿ã€‚

ä¸Šä¼ åˆ°è‡ªå·±ä»“åº“åï¼Œå¯ä»¥é€šè¿‡ `degit` æ¥ä¸‹è½½è‡ªå·±çš„æ¨¡æ¿ï¼Œé€šè¿‡å®ƒå¯ä»¥åœ¨ clone è‡ªå·±çš„ä»“åº“åï¼Œè‡ªåŠ¨åˆ é™¤ .git ç›®å½•ï¼Œç”Ÿæˆä¸€ä¸ªä¸å¸¦ git ä¿¡æ¯çš„é¡¹ç›®ã€‚

ä½¿ç”¨æ–¹å¼ï¼š

```bash
npx degit yishuai-wang/base-nuxt3 nuxt3-blog
# æ ¼å¼ï¼šdegit githubç”¨æˆ·å/ä»“åº“å å½“å‰é¡¹ç›®å
# ä¹Ÿå¯ä»¥ç›´æ¥å°† degit å…¨å±€å®‰è£…åˆ°æœ¬åœ°ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿
```

## Nuxt Content åŠ©åŠ›å¿«é€Ÿå®ç°åšå®¢ä¸æŠ€æœ¯æ–‡æ¡£ç«™ç‚¹æ­å»º

### nuxt ä¸­çš„è·¯ç”±

nuxt è·¯ç”±æ˜¯åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ï¼Œè¿™ç§å½¢å¼å¤§å®¶å·²ç»å¾ˆå¸¸è§äº†ï¼Œä¾‹å¦‚ next.jsã€è€ç‰ˆæœ¬çš„ nuxt2ã€vitepress ç­‰éƒ½æ˜¯åŸºäºæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆè·¯ç”±çš„ã€‚

nuxt ä¼šæ‰«æ `/pages` ä¸‹çš„ vue å•æ–‡ä»¶ç»„ä»¶ï¼Œé€šè¿‡æ–‡ä»¶åå°†å…¶æ˜ å°„ä¸ºè·¯ç”±ï¼Œå½“ç„¶ä¹Ÿæ˜¯æ”¯æŒåŠ¨æ€è·¯ç”±ä¸åµŒå¥—è·¯ç”±çš„ï¼Œç”±äºå…¶è§„åˆ™æ¯”è¾ƒç®€å•ä¸”ç¬¦åˆå¸¸è§„æ–‡ä»¶è·¯ç”±çš„è§„åˆ™ï¼Œå°±ä¸è¯¦è¿°å…¶è§„åˆ™äº†ã€‚å¯¹äºè·¯ç”±å‘½ä¸­çš„æ–‡ä»¶ï¼Œnuxt ä¼šé€šè¿‡ `dynamic import` çš„æ–¹å¼è¿›è¡Œæ–‡ä»¶å¯¼å…¥ï¼Œé€šè¿‡ `code-spliting` æ¥è£…é…æœ€å°‘æ•°é‡çš„ JavaScript ä»£ç ï¼Œå¿«é€Ÿå“åº”é¡µé¢ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚

é™¤äº† `/pages` ä¸‹é¢çš„æ–‡ä»¶ä¼šè¢«æ˜ å°„ä¸ºè·¯ç”±ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å®‰è£… [@nuxt/content](https://content.nuxtjs.org/) æ¨¡å—ï¼Œå°† `/content` ç›®å½•ä¸‹çš„æ–‡ä»¶æ˜ å°„ä¸ºè·¯ç”±ï¼Œåœ¨ `/content` ä¸‹ï¼Œæ”¯æŒå°† `markdown`ã€`YAML/YML`ã€`CSV` æ–‡ä»¶æ˜ å°„ä¸ºè·¯ç”±ï¼Œå¯¹äº `/pages` ä¸ `/contents` ä¸‹ç›¸åŒåç§°çš„æ–‡ä»¶ï¼Œ`/pages` ä¸‹çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œä»–ä»¬ä¸¤è€…æ˜¯å¯ä»¥å…±å­˜çš„ã€‚

å¯¹äºè·¯ç”±æ¶‰åŠåˆ°çš„ç»„ä»¶ç­‰å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨åç»­å®æˆ˜å¼€å‘ç”¨åˆ°æ—¶ç©¿æ’è®²è§£ã€‚

### Nuxt Content æä¾›äº†ä»€ä¹ˆå†…å®¹

`Nuxt Content` åšçš„è¿œéä¸€ä¸ªè·¯ç”±æ˜ å°„ï¼Œè€Œæ˜¯åŸºäº nuxt æé«˜çš„æ‰©å±•æ€§ï¼Œä¸ºæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªåŸºäºæ–‡ä»¶çš„ (`file-based`) CMS (å†…å®¹ç®¡ç†ç³»ç»Ÿ)ï¼Œè¿™é‡Œæˆ‘å¤§è‡´æ€»ç»“å®ƒä¸ºæˆ‘ä»¬æä¾›çš„å†…å®¹ï¼š

- `/contents` è·¯ç»ä¸‹çš„è·¯ç”±æ˜ å°„
- `markdown`ã€`YAML/YML`ã€`CSV` ç­‰å†…å®¹çš„è§£æ
- é€šè¿‡ `markdown frontmatter`,`YAML/YML`ã€`CSV` æ–‡ä»¶æä¾›é¡µé¢å…ƒæ•°æ®
- [`MDC` è¯­æ³•](https://content.nuxtjs.org/guide/writing/mdc)ï¼šç±»ä¼¼äº mdxï¼Œ`C` ä¸º Componentï¼Œå¯ä»¥åœ¨ md æ–‡ä»¶ä¸­é€šè¿‡ `::compnent-name` æ–¹å¼æ¸²æŸ“ç»„ä»¶ï¼Œä»¥åŠä¸€äº›å…¶ä»–æ‰©å±•
- ä¸€å¥—æ¸²æŸ“ markdown æ–‡ä»¶è§£æå…ƒç´ çš„ [Prose ç»„ä»¶](https://content.nuxtjs.org/api/components/prose)ï¼Œä¸”å¯ä»¥ç”±å¼€å‘è€…çµæ´»è¦†ç›–ã€‚ä»¥åŠ[æ–‡ä»¶æ¸²æŸ“ç»„ä»¶](https://content.nuxtjs.org/api/components/content-doc)ï¼ŒåŒ…å«æ–‡ç« å†…å®¹æ¸²æŸ“ã€æ–‡ä»¶åˆ—è¡¨æ¸²æŸ“ã€å¯¼èˆªã€å†…å®¹æŸ¥è¯¢ç­‰ç»„ä»¶
- ä¸€å¥—ç±» `MongoDB` çš„æŸ¥è¯¢è¯­æ³•
- TypeScript ç±»å‹æ”¯æŒ

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `markdown frontmatter`ï¼Œ`yaml` æ–‡ä»¶ç­‰æ–¹å¼æä¾›é¡µé¢æ‰€éœ€çš„å…ƒæ•°æ®ï¼ˆç±»ä¼¼äºæ•°æ®åº“çš„æ•°æ®ï¼‰ï¼Œé…åˆ nuxt çš„ `Layout` å¸ƒå±€ç³»ç»Ÿï¼Œå¯¹ä¸åŒç±»å‹çš„é¡µé¢è¿›è¡Œä¸åŒçš„æ¸²æŸ“ï¼Œè€Œä¸å¿…éè¦æŸ¥è¯¢æ•°æ®åº“ï¼Œå› æ­¤ Nuxt Content æ‰è¢«ç§°ä¸º CMSã€‚å½“ç„¶ï¼Œnuxt æ˜¯åŠå…¶å¼€æ”¾çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åŒæ—¶ç»“åˆæ•°æ®åº“å¯¹ä¸€äº›åŠ¨æ€éƒ¨åˆ†è¿›è¡Œæ¸²æŸ“ã€‚

### nuxt content åˆä½“éªŒ

#### å®‰è£…ä¸é…ç½®

**å®‰è£… nuxt content**

::code-group
```bash [ni]
ni @nuxt/content -D
```

```bash [pnpm]
pnpm add @nuxt/content -D
```

```bash [yarn]
yarn add @nuxt/content -D
```

```bash [npm]
npm install @nuxt/content -D
```
::

é…ç½®

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: [
    '@nuxt/content'
  ],
  // https://content.nuxtjs.org/api/configuration
  content: {
    highlight: {
      theme: {
        default: 'material-ocean',
        light: 'light-plus'
      }
    },
    markdown: {
      toc: {
        depth: 3,
        searchDepth: 3
      }
    }
  }
})
```

åˆå§‹é…ç½®ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `/content` ç›®å½•ä¸­æ·»åŠ ä¸€äº› `markdown` æ–‡ä»¶ç”¨äºæ¼”ç¤ºï¼Œ`/pages` ç›®å½•éœ€è¦å¢åŠ ä¸€ä¸ª `[...slug].vue` çš„ `catch all route` ç”¨äºæ•è·æ‰€æœ‰çš„è·¯ç”±ï¼Œå…¶ä¸­ä¼šä½¿ç”¨åˆ° `<ContentDoc />` ç»„ä»¶ï¼Œç”¨äºæ¸²æŸ“åŒ¹é…åˆ°çš„ markdown å†…å®¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `app.vue` ä¸­æ·»åŠ  `<NuxtPage />`ï¼Œå…¶ä½œç”¨ä¸ vue-router çš„ `<RouteView />` ç±»ä¼¼ï¼Œç”¨äºæ¸²æŸ“åŒ¹é…åˆ°çš„è·¯ç”±é¡µé¢ã€‚ä¹Ÿå¯ä»¥æ·»åŠ `NuxtLink` ç»„ä»¶ï¼Œè·³è½¬åˆ°æˆ‘ä»¬æŒ‡å®šçš„ `/content` ä¸‹é¢çš„å…·ä½“æ–‡ä»¶ã€‚

ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼ˆä½ å¯ä»¥é…åˆä¸Šè¿°æè¿°æŸ¥çœ‹æ²™ç®±ç¯å¢ƒä¸­çš„ä»£ç ï¼Œå¹¶æ ¹æ®è‡ªå·±çš„å–œå¥½è¿›è¡Œä¿®æ”¹ï¼‰ï¼š

::sandbox{src="https://stackblitz.com/github/yishuai-wang/nuxt-blog/tree/lesson/01-add-nuxt-content/?embed=1&file=app.vue&view=both&theme=default"}
::

#### documentDriven é…ç½®
ä¸Šè¿°æˆ‘ä»¬åœ¨ `/pages` ä¸­æ·»åŠ äº† `[...slug].vue` è¿›è¡Œæ‰€æœ‰è·¯ç”±çš„æ•è·ï¼Œå½“æˆ‘ä»¬å¼€å¯ `documentDriven` ä¹‹åï¼Œnuxt-content å°†ä¼šè‡ªåŠ¨æ³¨å…¥è¯¥ä»£ç ï¼Œä¹‹åä½ å¯ä»¥åˆ é™¤ `[...slug].vue` æ–‡ä»¶ï¼Œé¡µé¢ä¾ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œ`documentDriven` è¿˜ä¸ºæˆ‘ä»¬æä¾›äº†[å¸ƒå±€ç³»ç»Ÿç»‘å®š](https://content.nuxtjs.org/guide/writing/document-driven#layout-binding)(é€šè¿‡ frontmatter æŒ‡å®šé¡µé¢æ¸²æŸ“æ‰€éœ€çš„å¸ƒå±€)ï¼Œ[å…¨å±€å˜é‡é…ç½®](https://content.nuxtjs.org/guide/writing/document-driven#global-variables) ç­‰å†…å®¹ï¼Œè¯¦æƒ…ç‚¹å‡»å¯¹åº”é“¾æ¥æŸ¥é˜…æ–‡æ¡£ã€‚

åœ¨æˆ‘ä»¬çš„å®è·µä¸­ï¼Œä¹Ÿä¼šå¼€å¯è¯¥é€‰é¡¹ï¼Œå°½å¯èƒ½äº«å— `nuxt content` å¸¦ç»™æˆ‘ä»¬çš„ä¾¿åˆ©ã€‚

é…ç½®å¦‚ä¸‹ï¼š

```[ts] nuxt.config.ts
export default defineNuxtConfig({
  modules: [
    '@nuxt/content'
  ],
  // https://content.nuxtjs.org/api/configuration
  content: {
    documentDriven: true // é€šè¿‡ä¸Šè¿°apiå¯ä»¥æŸ¥é˜… documentDriven æ›´è¯¦ç»†çš„é…ç½®
    ...
  }
})
```
> ä½ å¯ä»¥å°è¯•åœ¨ä¸ŠèŠ‚æä¾›çš„æ²™ç®±ç¯å¢ƒä¸­ä¿®æ”¹å°è¯•

#### markdown ä¸»é¢˜ç³»ç»Ÿé…ç½®

ä½ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¸Šè¿°åˆå§‹åŒ–é…ç½®ä¹‹åï¼Œmarkdown æ–‡ä»¶è™½ç„¶å¾—åˆ°äº†è§£æï¼Œä½†ä»–ä»¬çš„æ ·å¼å¹¶ä¸å¥½çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ nuxt å®˜æ–¹æä¾›çš„ä¸€å¥—ä¸»é¢˜ `@nuxt-themes/*` æ¥å¯¹æˆ‘ä»¬å½“å‰çš„æ¸²æŸ“è¿›è¡Œæ ·å¼ä¼˜åŒ–ã€‚

**å®‰è£… `@nuxt-themes/typography`**

::code-group
```bash [ni]
ni @nuxt-themes/typography -D
```

```bash [pnpm]
pnpm add @nuxt-themes/typography -D
```

```bash [yarn]
yarn add @nuxt-themes/typography -D
```

```bash [npm]
npm install @nuxt-themes/typography -D
```
::

`@nuxt-themes/typography` å¯¹ `Nuxt Content` æä¾›çš„ `Prose` ç»„ä»¶è¿›è¡Œäº†è¦†ç›–é‡å†™ï¼Œå¦‚ä¸‹æ‰€è§ï¼š

![typography ç»„ä»¶](http://oss.yishuai.wang/imgs/nutx-theme-typography.png)

è€Œå®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ª Nuxt åº”ç”¨ï¼Œå®ƒçš„ç»“æ„å¦‚å›¾ï¼Œå¦‚æœä½ è¿˜è®°å¾—æˆ‘ä»¬å¼€å¤´æåˆ°çš„ `Layer` æ¦‚å¿µï¼Œå¾ˆé«˜å…´ï¼Œæˆ‘ä»¬ç°åœ¨å°±çœ‹åˆ°äº†ï¼Œå¯¹äº `Layer` çš„ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„ `extends` è¿›è¡Œæ·»åŠ ã€‚

![](http://oss.yishuai.wang/imgs/typography-dir.png)

**é…ç½®**

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  extends: ['@nuxt-themes/typography'],
  modules: [
    ...
  ],
  ...
})
```

æ­¤æ—¶é‡å¯é¡¹ç›®ä½ ä¼šå‘ç°é¡µé¢å˜å¾—å¥½çœ‹äº†è®¸å¤šã€‚

#### markdwon Compoent ç»„ä»¶æ‰©å±•

ä¸çŸ¥é“ä½ æ˜¯å¦è¿˜è®°å¾—æˆ‘ä»¬å‰é¢è¯´çš„ `mdc` çš„æ¦‚å¿µï¼Œ`mdc` ç±»ä¼¼ä¸ `mdx`ï¼Œä½†åˆä¸åŒäº `mdx`ï¼Œ`mdx` å…è®¸æˆ‘ä»¬åŠ¨æ€åœ¨ markdown ä¸­ç¼–å¯¼å…¥ `react` æˆ– `vue` ç»„ä»¶ï¼Œç”šè‡³ç›´æ¥å°† md ä¸ js æ··åˆç¼–å†™ï¼Œåœ¨è§£æå™¨çš„å±‚é¢å¯¹å…¶è¿›è¡Œè§£ææœ€ç»ˆæ¸²æŸ“ï¼Œmdc ä¸åŒäº mdxï¼Œå®ƒä»…ä»…æ‰©å±•äº† markdown çš„è¯­æ³•å½¢å¼ï¼Œå°±ç®—ä½ å°† mdc çš„å†…å®¹åœ¨æ™®é€š markdown ç¼–è¾‘å™¨ä¸Šè¿›è¡Œå±•ç¤ºï¼Œä¾ç„¶å¯ä»¥å±•ç¤ºå‡ºå†…å®¹ï¼Œä»…ä»…æ˜¯å…¶æ‰©å±•è¯­æ³•å¯èƒ½ä¼šä»¥åŸå§‹å†…å®¹çš„æ–¹å¼å‡ºç°ã€‚

mdc çš„æ ¸å¿ƒå…¶å®å°±æ˜¯å®ƒçš„ `C(omponent)`ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è‡ªå·±çš„åº”ç”¨ä¸­ç¼–å†™å¾ˆå¤šè‡ªå·±é¢„æœŸçš„ç»„ä»¶ï¼Œæœ€ç»ˆå°† mdc æ‰©å±•è¯­æ³•ä¸­çš„æ•°æ®é€šè¿‡ç»„ä»¶æ¸²æŸ“å‡ºæ¥ï¼ŒNuxt å®˜æ–¹ä¹Ÿåœ¨ Nuxt theme ä¸­ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€å¥—åŸºç¡€çš„ç»„ä»¶ [@nuxt-themes/elements](https://elements.nuxt.space/)ã€‚

ä¾‹å¦‚æœ¬æ–‡ä¸­çš„å±•ç¤ºçš„ä»£ç ç»„ä»¥åŠä¸Šè¿°å¼•å…¥çš„æ²™ç®±ï¼Œéƒ½æ˜¯è¯¥åŸºç¡€åº“ä¸­å¸®æˆ‘ä»¬æä¾›çš„ç»„ä»¶ã€‚

**å®‰è£…**

::code-group
```bash [ni]
ni @nuxt-themes/elements -D
```

```bash [pnpm]
pnpm add @nuxt-themes/elements -D
```

```bash [yarn]
yarn add @nuxt-themes/elements -D
```

```bash [npm]
npm install @nuxt-themes/elements -D
```
::

**é…ç½®**
ä¸ `@nuxt-themes/typography` ä¸€æ ·ï¼Œè¯¥ç»„ä»¶åº“ä¹Ÿæ˜¯ä¸€ä¸ª `Layer`ï¼Œæˆ‘ä»¬ç›´æ¥ç»§æ‰¿å®ƒå³å¯ï¼Œä¹‹åé‡å¯é¡¹ç›®

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  extends: [
    '@nuxt-themes/typography',
    '@nuxt-themes/elements'
  ],
  ...
})
```

**ä½“éªŒä¸€ä¸‹ [block-hero ç»„ä»¶](https://elements.nuxt.space/landing/block-hero)**

æˆ‘ä»¬æŒ‰ç…§æ–‡æ¡£ï¼Œå¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°æˆ‘ä»¬ `/content/index.md` ä¸­ï¼Œåˆ é™¤åŸæ¥çš„ `0.index.md`ï¼Œè¿™é‡Œæ–‡ä»¶åä¸­çš„ `number.filename.md` çš„number ä½œç”¨æ˜¯æŒ‡å®šæ–‡ä»¶çš„æ’åºï¼Œåœ¨æˆ‘ä»¬å»æŒ‡å®šä¸€äº›æ–‡ç« é¡ºåºçš„æ—¶å€™å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚ä½ è¦å†™ä¸ªå°å†Œæˆ–ä¸“æ ï¼Œéœ€è¦æŒ‡å®šç« èŠ‚é¡ºåºï¼Œå®ƒå°±å¾ˆæœ‰å¸®åŠ©ã€‚

```md [/content/index.md]
::block-hero
---
cta:
  - Goto Hello
  - /hello
secondary:
  - Open on GitHub â†’
  - https://github.com/nuxtlabs/docus
snippet: npx nuxi init docus-app -t nuxtlabs/docus-starter
---
#title
Document-driven framework
#description
Docus reconciles content creators and developers by offering to both the best tools to create and scale content-based websites.
::
```

æ­¤æ—¶ä¸€è‚¡å¾ˆå¥‡æ€ªçš„ç”»é£ä¼šå‡ºç°åœ¨ä½ çš„çœ¼å‰ï¼Œä¸ºä»€ä¹ˆå®ƒé•¿å¾—è·Ÿå®˜æ–¹ demo ä¸ä¸€æ ·ï¼Ÿ
![](http://oss.yishuai.wang/imgs/hero-page-01.png)

åŒæ—¶ä½ çš„æ§åˆ¶å°é£˜èµ·äº†ä¸€å †å¥‡æ€ªçš„æŠ¥é”™ `missing token`
![](http://oss.yishuai.wang/imgs/desin-token-errors.png)

è¿™æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿï¼Ÿï¼Ÿ

åˆ«ç€æ€¥ï¼Œè¿˜è®°å¾—æˆ‘ä»¬åœ¨è¿›è¡Œé¡¹ç›®åŸºæœ¬æ¨¡æ¿æ­å»ºæ—¶å€™æ¨èçš„å·¥å…· `pinceau` ä»¥åŠæåˆ°çš„ `design tokens` å˜›ï¼Ÿè¿™é‡Œçš„æŠ¥é”™æ˜¯å› ä¸ºæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„ `tokne`ï¼Œé‚£ `token` åˆæ˜¯ä»€ä¹ˆï¼Œç›´ç™½ç‚¹è®²ï¼Œå®ƒå°±æ˜¯ä¸€å †æˆ‘ä»¬å®šä¹‰çš„ css å˜é‡ï¼Œå¹¶ä¸”æ˜¯æ ¹æ®è®¾è®¡è§„èŒƒè¿›è¡Œå®šåˆ¶çš„ï¼Œ`@nuxt-themes/elements` å†…éƒ¨ä¾èµ–äº† [`@nuxt-themes/tokens`](https://nuxt-themes-tokens.netlify.app/)ï¼Œç‚¹å‡»é“¾æ¥ä½ å¯ä»¥åœ¨çº¿æŸ¥çœ‹åˆ° nuxt-themes çš„ design tokensï¼Œä¹Ÿå°±æ˜¯ nuxt-themes æä¾›çš„ä¸€å¥—åŸºç¡€çš„è®¾è®¡è§„èŒƒï¼Œå¹¶ä¸”å®ƒä¹Ÿæ˜¯åŸºäº pinceau è¿›è¡Œè¿™äº›å˜é‡æä¾›ä¸ä½¿ç”¨çš„ã€‚

æˆ‘ä»¬éœ€è¦åœ¨ nuxt é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ï¼Œåˆ‡è®°å®ƒéœ€è¦æ”¾åœ¨ `modules` çš„æœ€ä¸Šé¢ï¼Œå¦åˆ™å¯èƒ½å‡ºç°æ ·å¼é”™è¯¯çš„é—®é¢˜

**å®‰è£… `@nuxt-themes/tokens`**

è™½ç„¶å®‰è£… elements æ—¶å€™ä¹Ÿä¼šå®‰è£…ä¸Š tokensï¼Œä½†ä¸ºäº†é¿å…éšå¼ä¾èµ–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ˜¾å¼å®‰è£…ä¸€æ¬¡ã€‚

::code-group
```bash [ni]
ni @nuxt-themes/tokens -D
```

```bash [pnpm]
pnpm add @nuxt-themes/tokens -D
```

```bash [yarn]
yarn add @nuxt-themes/tokens -D
```

```bash [npm]
npm install @nuxt-themes/tokens -D
```
::

**é…ç½®**

å…¶å®åœ¨ `@nuxt-themes/elements` ä¸­å·²ç»åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•ç”¨è¿‡ä¸€æ¬¡äº†ï¼Œä½†æˆ‘ä»¬è¿™é‡Œåˆé…ç½®äº†å¾ˆå¤š module å¯èƒ½ä¼šå¯¼è‡´æ ·å¼å‡ºç°é”™è¯¯ï¼Œä¾‹å¦‚ä¸Šè¿°é”™è¯¯ã€‚

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  extends: [
    '@nuxt-themes/elements',
    '@nuxt-themes/typography',
  ],
  modules: [
    '@nuxt-themes/tokens',
    ...
  ],
})

```

é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬éœ€è¦åˆ é™¤æ‰ä¹‹å‰åœ¨ `tokens.config.ts` ä¸­é»˜è®¤æ·»åŠ çš„å†…å®¹ï¼Œå› ä¸ºå…¶ä¸­çš„ `colors` ä¼šè¦†ç›–æ‰ `@nuxt-themes/tokens` çš„é…ç½®ï¼Œæœ€ç»ˆäº§ç”Ÿå†²çªï¼ŒåŒæ—¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©è‡ªå·±çš„ä¸»é¢˜è‰²è¿›è¡Œé…ç½®ï¼Œé»˜è®¤æ˜¯ `teal` é’è‰²ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢ `ruby` çº¢å®çŸ³è‰² 

```ts [tokens.config.ts]
import { defineTheme } from 'pinceau'
import theme from '@nuxt-themes/tokens/config'

export default defineTheme({
  color: {
    // @ts-expect-error
    primary: theme.color.ruby,
  },
})
```

OK æ­¤æ—¶é‡å¯é¡¹ç›®ã€‚

å¦‚æœæ­¤æ—¶æ ·å¼ä»æœªç”Ÿæ•ˆï¼Œåˆ é™¤ `/node_modules` åé‡è£…ä¾èµ–å†æ¬¡å¯åŠ¨å³å¯

![](http://oss.yishuai.wang/imgs/hero-block-success.png)

### åšå®¢å¸ƒå±€ç»„ä»¶å¼€å‘

#### å¸ƒå±€ç³»ç»Ÿåˆä½“éªŒ

æˆ‘ä»¬çœ‹åˆ°ä¸Šè¿°å›¾ä¸­ï¼Œç”±äºæ•´ä¸ªç»„ä»¶å ç”¨äº†é¡µé¢æ‰€æœ‰å®½åº¦ï¼Œå¯¼è‡´é¡µé¢æ¯”è¾ƒä¸‘é™‹ï¼Œæˆ‘ä»¬éœ€è¦é™åˆ¶å…¶å±•ç¤ºå®½åº¦ï¼Œå¤§å±æ—¶å·¦å³ç•™å‡ºä¸€äº›ç©ºç™½ã€‚

å¦‚æœä½ æœ‰å°è±¡ï¼Œæˆ‘ä»¬ä¹‹å‰æåˆ°äº† nuxt çš„ `Layout` å¸ƒå±€ç³»ç»Ÿï¼Œæˆ‘ä»¬æ¥å¼€å‘ä¸€ä¸ªé»˜è®¤çš„å¸ƒå±€ç»„ä»¶

nuxt çš„å¸ƒå±€ç»„ä»¶éœ€è¦æ”¾åœ¨ `/layouts` ä¸‹ï¼Œå‘½åéµå¾ª kebab-cace çš„æ–¹å¼ï¼Œé»˜è®¤çš„å¸ƒå±€ä¸º `default.vue`ï¼Œåœ¨å¸ƒå±€ç»„ä»¶ä¸­ï¼Œä¸èƒ½ç›´æ¥å†™ `<slot />`ï¼Œè‡³å°‘éœ€è¦åŒ…è£¹ä¸€å±‚æ ¹å…ƒç´ ï¼Œä¾‹å¦‚ `div` ï¼Œè¿™æ˜¯å› ä¸ºåœ¨ nuxt è¿›è¡Œå¸ƒå±€åˆ‡æ¢æ—¶ï¼Œå¯èƒ½ä¼šæœ‰åŠ¨ç”»ï¼Œè¿›è¡Œå¸ƒå±€åˆ‡æ¢çš„æ—¶å€™ä¸èƒ½ä»…ä»…åªæœ‰ slot.

ä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æ·»åŠ  `/layouts/default.vue` ç»„ä»¶ä¸ `/app.vue` ç»„ä»¶ï¼Œä½ å¯ä»¥åœ¨ `node_modules` ä¸­æ‰¾åˆ° `@nuxt-themes/elements` æºç ï¼ŒæŸ¥çœ‹å…¶æä¾›äº†å“ªäº›ç»„ä»¶ï¼Œæœ‰äº›ç»„ä»¶åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æœªæ ‡å‡ºï¼Œæˆ‘ä»¬ä¹Ÿç”¨åˆ°äº†ï¼Œä¾‹å¦‚ä¸‹æ–¹çš„ Container ç»„ä»¶ã€‚

::code-group
```vue [/layouts/default.vue]
<template>
  <div>
    <!-- Container ç»„ä»¶æ˜¯ @nuxt-themes/elements æä¾›çš„ä¸€æ¬¾ç»„ä»¶ -->
    <Container>
      <slot />
    </Container>
  </div>
</template>
```
```vue [/app.vue]
<script lang="ts" setup></script>

<template>
  <div>
    <header>
      <NuxtLink class="btn" mx-2 my-4 to="/">
        Home
      </NuxtLink>
      <NuxtLink class="btn" to="hello">
        Hello
      </NuxtLink>
    </header>
  </div>
  <!-- åœ¨è¿›è¡Œå¸ƒå±€ç»„ä»¶çš„åº”ç”¨æ—¶ï¼Œå¿…é¡»æ·»åŠ  <NuxtLayout /> ç»„ä»¶ï¼Œæ­¤æ—¶å¸ƒå±€ç»„ä»¶æ‰ä¼šè¢«åº”ç”¨ -->
  <NuxtLayout>
    <NuxtPage />
  </NuxtLayout>
</template>
```
::

æ­¤æ—¶é¡µé¢çœ‹èµ·æ¥ä¼šèˆ’æœå¾ˆå¤š

![](http://oss.yishuai.wang/imgs/hero-comp-after-layout.png)

#### å…¨å±€å¸ƒå±€

ç»†å¿ƒçš„ä½ å¯èƒ½ä¼šå‘ç°ï¼Œåœ¨ `/app.vue` ä¸­ï¼Œæˆ‘ä»¬çš„åœ¨ `NuxtLayout` ç»„ä»¶çš„åŒçº§è¿˜å†™äº† `header` å…ƒç´ ï¼Œé‡Œé¢çš„å†…å®¹ä¸å‚ä¸å¸ƒå±€ç³»ç»Ÿï¼Œä¸ç®¡æˆ‘ä»¬åœ¨å“ªä¸ªé¡µé¢ï¼Œå®ƒéƒ½ä¼šå‡ºç°ï¼Œæˆ‘å°†å…¶ç§°ä¹‹ä¸º `å…¨å±€å¸ƒå±€`ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„ç½‘ç«™çš„ `header` `footer` ç­‰å†…å®¹ã€‚

æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹è¿›è¡Œå…¨å±€å¸ƒå±€ï¼Œæ¥æ·»åŠ  header è·Ÿ footer ç»„ä»¶ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨ `/components/app` ä¸­æ·»åŠ å…¨å±€çš„å¸ƒå±€ç»„ä»¶ï¼ŒåŒæ—¶æˆ‘ä»¬è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯¹åº”é…ç½®ï¼Œå› ä¸ºé»˜è®¤çš„è‡ªåŠ¨å¯¼å…¥ä¸ä¼šå°† `/components` ä¸‹é¢çš„å­ç›®å½•ä¸­çš„ vue æ–‡ä»¶è¿›è¡Œè‡ªåŠ¨å¯¼å…¥